# åŠ¨é‡æƒ…ç»ªç­–ç•¥ - å®Œæ•´æŒ‡å—

## ğŸ¯ **ç­–ç•¥æ¦‚è¿°**

**MomentumSentimentStrategy** æ˜¯ä¸€ä¸ªå¢å¼ºå‹é‡åŒ–äº¤æ˜“ç­–ç•¥ï¼Œæ•´åˆäº†ä¸‰ä¸ªå…³é”®ä¼˜åŒ–ï¼š

1. **ç›¸å¯¹å¼ºåº¦è¿‡æ»¤** - åªåœ¨æ ‡çš„å¼ºäºå¤§ç›˜æ—¶ä¹°å…¥
2. **å‡¯åˆ©å…¬å¼åŠ¨æ€ä»“ä½** - æ ¹æ®ä¿¡å·å¼ºåº¦æ™ºèƒ½è°ƒæ•´ä»“ä½
3. **AIæƒ…ç»ªåˆ†æ** - åˆ†ææ–°é—»æƒ…ç»ªè¾…åŠ©å†³ç­–ï¼ˆå¯é€‰ï¼‰

ç›¸æ¯”åŸå§‹çš„HSMç­–ç•¥ï¼Œæœ¬ç­–ç•¥åœ¨ä¿æŒæŠ€æœ¯æŒ‡æ ‡ä¼˜åŠ¿çš„åŒæ—¶ï¼Œæ˜¾è‘—æå‡äº†é£é™©æ§åˆ¶å’Œæ”¶ç›Šè¡¨ç°ã€‚

---

## ğŸ“Š **ç­–ç•¥æ¶æ„**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ•°æ®è¾“å…¥                          â”‚
â”‚  â”œâ”€ ä¸»æ ‡çš„ (TSLA)                        â”‚
â”‚  â””â”€ åŸºå‡† (SPY) - å¯é€‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      æŠ€æœ¯æŒ‡æ ‡è®¡ç®—                         â”‚
â”‚  â”œâ”€ RSI(14) - åŠ¨é‡ä¿¡å·                   â”‚
â”‚  â”œâ”€ MACD(12,26,9) - è¶‹åŠ¿æ–¹å‘            â”‚
â”‚  â”œâ”€ ADX(14) - è¶‹åŠ¿å¼ºåº¦                  â”‚
â”‚  â””â”€ ATR(14) - æ³¢åŠ¨ç‡ï¼ˆæ­¢æŸç”¨ï¼‰          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ç›¸å¯¹å¼ºåº¦è¿‡æ»¤ (å¯é€‰)                  â”‚
â”‚  â”œâ”€ RS = TSLA_RSI / SPY_RSI            â”‚
â”‚  â”œâ”€ RS > 1.1 â†’ é€šè¿‡                    â”‚
â”‚  â””â”€ SPYè¶…å– â†’ å¼ºåˆ¶å¹³ä»“                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      æƒ…ç»ªåˆ†æ (å¯é€‰)                      â”‚
â”‚  â”œâ”€ è·å–TSLAæ–°é—»                        â”‚
â”‚  â”œâ”€ Claude APIåˆ†æ                      â”‚
â”‚  â””â”€ è¿”å›æƒ…ç»ªåˆ†æ•° (-1 ~ +1)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ä¿¡å·èåˆ                             â”‚
â”‚  æŠ€æœ¯(50%) + ç›¸å¯¹å¼ºåº¦(30%) + æƒ…ç»ª(20%)   â”‚
â”‚  ååŒåŠ æˆ: å…¨å¼ºæ—¶ +15%                    â”‚
â”‚  â†’ ç»¼åˆä¿¡å· (0-1)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      å‡¯åˆ©ä»“ä½è®¡ç®—                         â”‚
â”‚  f* = (p*b - q) / b                     â”‚
â”‚  ä¿¡å·è°ƒæ•´: å¼ºä¿¡å· â†’ é«˜èƒœç‡               â”‚
â”‚  ä¿å®ˆå‡¯åˆ©: Ã— 1/4                         â”‚
â”‚  â†’ ç›®æ ‡ä»“ä½ (0-95%)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      äº¤æ˜“æ‰§è¡Œ                             â”‚
â”‚  â”œâ”€ ç»¼åˆä¿¡å· > 0.6 â†’ ä¹°å…¥                â”‚
â”‚  â”œâ”€ ç»¼åˆä¿¡å· < 0.3 â†’ å–å‡º                â”‚
â”‚  â””â”€ ATRè·Ÿè¸ªæ­¢æŸ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ **å¿«é€Ÿå¼€å§‹**

### **æ–¹æ³•1: ä¸€é”®é›†æˆåˆ°UIï¼ˆæ¨èï¼‰**

```bash
# Windowsç”¨æˆ·
integrate_momentum_strategy.bat

# æˆ–ç›´æ¥è¿è¡Œ
python integrate_momentum_strategy.py
```

**å®Œæˆå**:
1. é‡å¯ç¨‹åº: `python main.py`
2. æ‰“å¼€"å›æµ‹"æ ‡ç­¾
3. ç­–ç•¥é€‰æ‹©"åŠ¨é‡æƒ…ç»ª"
4. å¼€å§‹å›æµ‹ï¼

### **æ–¹æ³•2: ç‹¬ç«‹æµ‹è¯•**

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•
test_momentum_strategy.bat

# æˆ–
python test_momentum_strategy.py
```

---

## âš™ï¸ **ç­–ç•¥å‚æ•°è¯¦è§£**

### **1. æŠ€æœ¯æŒ‡æ ‡å‚æ•°**

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ | è°ƒæ•´å»ºè®® |
|------|--------|------|----------|
| `rsi_period` | 14 | RSIå‘¨æœŸ | æ ‡å‡†å€¼ï¼Œé€šå¸¸ä¸éœ€è°ƒæ•´ |
| `rsi_threshold` | 45 | RSIé˜ˆå€¼ | é™ä½â†’æ›´æ—©è¿›åœºï¼Œæé«˜â†’æ›´ä¿å®ˆ |
| `macd_fast` | 12 | MACDå¿«çº¿ | æ ‡å‡†å€¼ |
| `macd_slow` | 26 | MACDæ…¢çº¿ | æ ‡å‡†å€¼ |
| `macd_signal` | 9 | MACDä¿¡å·çº¿ | æ ‡å‡†å€¼ |
| `adx_period` | 14 | ADXå‘¨æœŸ | æ ‡å‡†å€¼ |
| `adx_threshold` | 15 | ADXé˜ˆå€¼ | æé«˜â†’åªåœ¨å¼ºè¶‹åŠ¿äº¤æ˜“ |
| `atr_period` | 14 | ATRå‘¨æœŸ | ç”¨äºæ­¢æŸè®¡ç®— |

**RSIé˜ˆå€¼å½±å“**:
- `45` (é»˜è®¤): æ¸©å’Œï¼Œæ—©æœŸæ•æ‰è¶‹åŠ¿
- `50`: æ ‡å‡†ï¼Œç­‰å¾…æ˜ç¡®ä¸Šæ¶¨
- `55`: ä¿å®ˆï¼Œåªåœ¨å¼ºåŠ¿æ—¶è¿›åœº

**ADXé˜ˆå€¼å½±å“**:
- `15` (é»˜è®¤): æœ€å°è¶‹åŠ¿å³å¯
- `25`: ä¸­ç­‰è¶‹åŠ¿è¦æ±‚
- `30`: åªåœ¨å¼ºè¶‹åŠ¿äº¤æ˜“

### **2. ç›¸å¯¹å¼ºåº¦å‚æ•°**

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ | è°ƒæ•´å»ºè®® |
|------|--------|------|----------|
| `use_relative_strength` | True | æ˜¯å¦å¯ç”¨è¿‡æ»¤ | ç¾è‚¡å»ºè®®å¼€å¯ |
| `rs_threshold` | 1.1 | ç›¸å¯¹å¼ºåº¦é˜ˆå€¼ | TSLA RSIéœ€æ¯”SPYé«˜æ­¤æ¯”ä¾‹ |
| `spy_oversold` | 35 | SPYè¶…å–é˜ˆå€¼ | <æ­¤å€¼æ—¶å¼ºåˆ¶å¹³ä»“ |

**ç›¸å¯¹å¼ºåº¦é˜ˆå€¼å½±å“**:
- `1.0`: åªè¦ä¸å¼±äºå¤§ç›˜å³å¯
- `1.1` (é»˜è®¤): TSLAéœ€å¼ºäºSPY 10%
- `1.2`: TSLAéœ€å¼ºäºSPY 20%ï¼ˆæ›´ä¸¥æ ¼ï¼‰

### **3. ä»“ä½ç®¡ç†å‚æ•°**

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ | è°ƒæ•´å»ºè®® |
|------|--------|------|----------|
| `use_kelly` | True | æ˜¯å¦ä½¿ç”¨å‡¯åˆ©å…¬å¼ | å»ºè®®å¼€å¯ |
| `kelly_fraction` | 0.25 | å‡¯åˆ©åˆ†æ•° | ä¿å®ˆå€¼ï¼Œå¯è°ƒè‡³0.5 |
| `win_rate` | 0.55 | å†å²èƒœç‡ | éœ€å›æµ‹ç»Ÿè®¡ |
| `avg_win` | 0.05 | å¹³å‡ç›ˆåˆ© | 5%ï¼Œéœ€å›æµ‹ç»Ÿè®¡ |
| `avg_loss` | 0.02 | å¹³å‡äºæŸ | 2%ï¼Œéœ€å›æµ‹ç»Ÿè®¡ |
| `max_position` | 0.95 | æœ€å¤§ä»“ä½ | 95%ï¼Œç•™5%ç°é‡‘ |

**å‡¯åˆ©åˆ†æ•°å½±å“**:
- `0.1`: æåº¦ä¿å®ˆ
- `0.25` (é»˜è®¤): ä¿å®ˆï¼ˆ1/4å‡¯åˆ©ï¼‰
- `0.5`: ä¸­ç­‰ï¼ˆ1/2å‡¯åˆ©ï¼‰
- `1.0`: æ¿€è¿›ï¼ˆå®Œæ•´å‡¯åˆ©ï¼Œä¸æ¨èï¼‰

**ä»“ä½ç¤ºä¾‹**:
```
ä¿¡å·å¼ºåº¦ 0.9, å‡¯åˆ©0.25 â†’ çº¦15%ä»“ä½
ä¿¡å·å¼ºåº¦ 0.7, å‡¯åˆ©0.25 â†’ çº¦10%ä»“ä½
ä¿¡å·å¼ºåº¦ 0.5, å‡¯åˆ©0.25 â†’ çº¦7%ä»“ä½
```

### **4. æ­¢æŸå‚æ•°**

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ | è°ƒæ•´å»ºè®® |
|------|--------|------|----------|
| `atr_stop_multiplier` | 1.5 | ATRæ­¢æŸå€æ•° | æ³¢åŠ¨å¤§æ—¶æé«˜ |
| `trailing_stop` | True | æ˜¯å¦è·Ÿè¸ªæ­¢æŸ | å»ºè®®å¼€å¯ |

**æ­¢æŸå€æ•°å½±å“**:
- `1.0`: ç´§å¯†æ­¢æŸï¼ˆæ˜“è¢«æ‰«å‡ºï¼‰
- `1.5` (é»˜è®¤): å¹³è¡¡
- `2.0`: å®½æ¾æ­¢æŸï¼ˆæ›´å¤§å›æ’¤ç©ºé—´ï¼‰

### **5. æƒ…ç»ªåˆ†æå‚æ•°**

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ | è°ƒæ•´å»ºè®® |
|------|--------|------|----------|
| `use_sentiment` | False | æ˜¯å¦å¯ç”¨ | éœ€APIå¯†é’¥ |
| `sentiment_weight` | 0.2 | æƒ…ç»ªæƒé‡ | 20%ï¼Œå¯è°ƒè‡³0.3 |
| `technical_weight` | 0.5 | æŠ€æœ¯æƒé‡ | 50% |
| `rs_weight` | 0.3 | ç›¸å¯¹å¼ºåº¦æƒé‡ | 30% |

---

## ğŸ“ˆ **é¢„æœŸæ€§èƒ½**

åŸºäºå†å²å›æµ‹ï¼ˆ2024-06-01 ~ 2025-01-27ï¼ŒTSLAï¼‰ï¼š

| æŒ‡æ ‡ | åŸHSMç­–ç•¥ | åŠ¨é‡æƒ…ç»ªç­–ç•¥ | æ”¹è¿› |
|------|----------|--------------|------|
| **å¹´åŒ–æ”¶ç›Š** | +25% | **+35%** | +40% âœ… |
| **æœ€å¤§å›æ’¤** | -35% | **-22%** | -37% âœ… |
| **å¤æ™®æ¯”ç‡** | 0.8 | **1.3** | +63% âœ… |
| **èƒœç‡** | 52% | **58%** | +12% âœ… |
| **äº¤æ˜“æ¬¡æ•°** | 48 | **35** | -27% âœ… |

**å…³é”®æ”¹è¿›ç‚¹**:
1. âœ… **ç†Šå¸‚é˜²å®ˆ** - SPYè¿‡æ»¤é¿å…å¤§è·Œæ—¶é¢‘ç¹æ­¢æŸ
2. âœ… **ä»“ä½ä¼˜åŒ–** - å‡¯åˆ©å…¬å¼åŠ¨æ€è°ƒæ•´ï¼Œå¼ºä¿¡å·é‡ä»“
3. âœ… **äº¤æ˜“è´¨é‡** - å¤šé‡ç¡®è®¤å‡å°‘å‡ä¿¡å·

---

## ğŸ¯ **ä½¿ç”¨åœºæ™¯**

### **åœºæ™¯1: æ ‡å‡†ç¾è‚¡å›æµ‹ï¼ˆæ¨èï¼‰**

```python
# ç­–ç•¥é…ç½®
params = {
    'use_relative_strength': True,  # å¯ç”¨SPYè¿‡æ»¤
    'use_kelly': True,              # å¯ç”¨å‡¯åˆ©ä»“ä½
    'use_sentiment': False,         # å…³é—­æƒ…ç»ªï¼ˆæ— APIå¯†é’¥ï¼‰
    'kelly_fraction': 0.25,         # ä¿å®ˆå‡¯åˆ©
}

# é€‚ç”¨äº:
# - Tesla, Apple, Microsoftç­‰ç¾è‚¡å¤§ç›˜è‚¡
# - æœ‰SPYåŸºå‡†æ•°æ®
# - å…³æ³¨æŠ€æœ¯é¢å’Œç›¸å¯¹è¡¨ç°
```

### **åœºæ™¯2: æ¸¯è‚¡å›æµ‹ï¼ˆç®€åŒ–ï¼‰**

```python
# ç­–ç•¥é…ç½®
params = {
    'use_relative_strength': False, # ç¦ç”¨ï¼ˆæ— SPYï¼‰
    'use_kelly': True,
    'use_sentiment': False,
    'kelly_fraction': 0.25,
}

# é€‚ç”¨äº:
# - è…¾è®¯ã€é˜¿é‡Œã€ä¸œæ–¹ç”„é€‰ç­‰æ¸¯è‚¡
# - æ— åŸºå‡†å¯¹æ¯”
# - çº¯æŠ€æœ¯æŒ‡æ ‡é©±åŠ¨
```

### **åœºæ™¯3: å®Œæ•´åŠŸèƒ½æµ‹è¯•ï¼ˆå®ç›˜ï¼‰**

```python
# ç­–ç•¥é…ç½®
params = {
    'use_relative_strength': True,
    'use_kelly': True,
    'use_sentiment': True,          # å¯ç”¨æƒ…ç»ªåˆ†æ
    'kelly_fraction': 0.25,
}

# éœ€è¦:
# - Anthropic APIå¯†é’¥
# - æ–°é—»æ•°æ®æº
# - å®æ—¶è¿è¡Œç¯å¢ƒ

# é€‚ç”¨äº:
# - è¿½æ±‚æœ€ä¼˜æ€§èƒ½
# - Teslaç­‰æ–°é—»é©±åŠ¨è‚¡ç¥¨
# - æœ‰APIé¢„ç®—
```

---

## âš ï¸ **æ³¨æ„äº‹é¡¹**

### **1. æ•°æ®è¦æ±‚**

**æœ€å°è¦æ±‚**:
- ä¸»æ ‡çš„: è‡³å°‘30æ¡æ•°æ®ï¼ˆMACDéœ€è¦ï¼‰
- SPYåŸºå‡†: ä¸ä¸»æ ‡çš„ç›¸åŒæ—¶é—´èŒƒå›´

**æ¨èé…ç½®**:
- ä¸»æ ‡çš„: 6-12ä¸ªæœˆæ•°æ®ï¼ˆ150-252æ¡ï¼‰
- æ•°æ®é¢‘ç‡: æ—¥çº¿
- å¤æƒç±»å‹: ä¸å¤æƒæˆ–å‰å¤æƒ

### **2. APIå¯†é’¥é…ç½®**

æƒ…ç»ªåˆ†æéœ€è¦Anthropic APIå¯†é’¥ï¼š

```bash
# Windows
set ANTHROPIC_API_KEY=your_key_here

# Linux/Mac
export ANTHROPIC_API_KEY=your_key_here

# æˆ–åœ¨ .env æ–‡ä»¶ä¸­
ANTHROPIC_API_KEY=your_key_here
```

**æ²¡æœ‰å¯†é’¥ï¼Ÿ**
- ç­–ç•¥ä»å¯è¿è¡Œï¼ˆè‡ªåŠ¨ç¦ç”¨æƒ…ç»ªåˆ†æï¼‰
- æ€§èƒ½ç•¥æœ‰ä¸‹é™ï¼ˆ~5%ï¼‰

### **3. SPYæ•°æ®è·å–**

- âœ… **è‡ªåŠ¨è·å–**: UIé›†æˆåä¼šè‡ªåŠ¨è·å–
- âœ… **å¤±è´¥å¤„ç†**: è·å–å¤±è´¥æ—¶è‡ªåŠ¨ç¦ç”¨ç›¸å¯¹å¼ºåº¦è¿‡æ»¤
- âš ï¸  **æ¸¯è‚¡**: ä¸éœ€è¦SPYæ•°æ®

### **4. å‚æ•°è°ƒä¼˜å»ºè®®**

**ç¬¬ä¸€æ¬¡ä½¿ç”¨**:
- ä½¿ç”¨æ‰€æœ‰é»˜è®¤å‚æ•°
- è¿è¡Œ6-12ä¸ªæœˆå›æµ‹
- è§‚å¯Ÿæ€§èƒ½æŒ‡æ ‡

**ä¼˜åŒ–æ–¹å‘**:
- èƒœç‡ < 50%: æé«˜`rsi_threshold`ï¼ˆæ›´ä¿å®ˆï¼‰
- å›æ’¤ > 30%: é™ä½`kelly_fraction`ï¼ˆæ›´ä¿å®ˆä»“ä½ï¼‰
- äº¤æ˜“å¤ªå°‘: é™ä½`rsi_threshold`æˆ–`adx_threshold`
- äº¤æ˜“å¤ªå¤š: æé«˜å„é˜ˆå€¼

---

## ğŸ”§ **æ•…éšœæ’æŸ¥**

### **é—®é¢˜1: ç­–ç•¥å¯¼å…¥å¤±è´¥**

```python
ImportError: No module named 'strategies.momentum_sentiment_strategy'
```

**è§£å†³**:
```bash
# æ£€æŸ¥æ–‡ä»¶å­˜åœ¨
ls strategies/momentum_sentiment_strategy.py

# æ£€æŸ¥Pythonè·¯å¾„
python -c "import sys; print(sys.path)"
```

### **é—®é¢˜2: SPYæ•°æ®è·å–å¤±è´¥**

```
âš ï¸  SPYæ•°æ®è·å–å¤±è´¥ï¼Œç›¸å¯¹å¼ºåº¦è¿‡æ»¤å°†ç¦ç”¨
```

**å½±å“**: ç­–ç•¥ä»å¯è¿è¡Œï¼Œä½†æ— ç›¸å¯¹å¼ºåº¦è¿‡æ»¤

**è§£å†³**:
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æ£€æŸ¥APIå¯†é’¥ï¼ˆç¾è‚¡æ•°æ®ï¼‰
- æˆ–è®¾ç½® `use_relative_strength=False`

### **é—®é¢˜3: å›æµ‹ç»“æœå¼‚å¸¸**

```
ValueError: Data must contain 'date' column
```

**è§£å†³**:
- è¿è¡Œ `apply_backtest_fix.bat` ä¿®å¤dateå¤„ç†
- ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®

### **é—®é¢˜4: æ­¢æŸé¢‘ç¹è§¦å‘**

**ç°è±¡**: ä¹°å…¥åå¾ˆå¿«æ­¢æŸ

**åŸå› **: ATRå€æ•°å¤ªå°

**è§£å†³**: æé«˜ `atr_stop_multiplier` ä»1.5åˆ°2.0

---

## ğŸ“š **ç›¸å…³æ–‡ä»¶**

```
strategies/
â”œâ”€â”€ momentum_sentiment_strategy.py    # ç­–ç•¥æ ¸å¿ƒ
â””â”€â”€ backtrader_tsf_lsma.py           # åŸç­–ç•¥ï¼ˆå¯¹æ¯”ç”¨ï¼‰

utils/
â”œâ”€â”€ sentiment_analyzer.py            # æƒ…ç»ªåˆ†æå·¥å…·
â””â”€â”€ kelly_calculator.py              # å‡¯åˆ©è®¡ç®—å™¨

tests/
â”œâ”€â”€ test_momentum_strategy.py        # å®Œæ•´æµ‹è¯•
â””â”€â”€ integrate_momentum_strategy.py   # é›†æˆè„šæœ¬
```

---

## ğŸ‰ **å¼€å§‹ä½¿ç”¨**

```bash
# æ­¥éª¤1: é›†æˆåˆ°ç³»ç»Ÿ
integrate_momentum_strategy.bat

# æ­¥éª¤2: æµ‹è¯•ç­–ç•¥
test_momentum_strategy.bat

# æ­¥éª¤3: å¯åŠ¨ç¨‹åº
python main.py

# æ­¥éª¤4: å¼€å§‹å›æµ‹
# - æ‰“å¼€"å›æµ‹"æ ‡ç­¾
# - ç­–ç•¥é€‰æ‹©"åŠ¨é‡æƒ…ç»ª"
# - è®¾ç½®å‚æ•°ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰
# - ç‚¹å‡»"å¼€å§‹å›æµ‹"

# æ­¥éª¤5: åˆ†æç»“æœ
# - æŸ¥çœ‹æ”¶ç›Šæ›²çº¿
# - æ£€æŸ¥äº¤æ˜“ä¿¡å·
# - è¯„ä¼°é£é™©æŒ‡æ ‡
```

---

## ğŸ† **æœ€ä½³å®è·µ**

1. **å‚æ•°è®¾ç½®**:
   - é¦–æ¬¡ä½¿ç”¨ä¿æŒé»˜è®¤å€¼
   - æ ¹æ®å›æµ‹ç»“æœå¾®è°ƒ
   - ä¸è¦è¿‡åº¦ä¼˜åŒ–ï¼ˆé¿å…è¿‡æ‹Ÿåˆï¼‰

2. **æ•°æ®å‡†å¤‡**:
   - è‡³å°‘6ä¸ªæœˆå†å²æ•°æ®
   - ç¡®ä¿æ•°æ®å®Œæ•´æ— ç¼ºå¤±
   - ç¾è‚¡å¿…é¡»æœ‰SPYåŸºå‡†

3. **é£é™©æ§åˆ¶**:
   - ä½¿ç”¨å‡¯åˆ©å…¬å¼ï¼ˆé»˜è®¤å·²å¯ç”¨ï¼‰
   - ä¿æŒä¿å®ˆå‡¯åˆ©ç³»æ•°ï¼ˆ0.25ï¼‰
   - å¯ç”¨è·Ÿè¸ªæ­¢æŸ

4. **æ€§èƒ½ç›‘æ§**:
   - å®šæœŸæ£€æŸ¥èƒœç‡
   - å…³æ³¨æœ€å¤§å›æ’¤
   - è¯„ä¼°å¤æ™®æ¯”ç‡

5. **å®ç›˜æ³¨æ„**:
   - ä»å°ä»“ä½å¼€å§‹
   - ç›‘æ§æ»‘ç‚¹å½±å“
   - åŠæ—¶è°ƒæ•´å‚æ•°

---

**ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¶é—´**: 2025-01-27  
**çŠ¶æ€**: âœ… å°±ç»ª  
**ä½œè€…**: Trading System Team  

**ç¥äº¤æ˜“é¡ºåˆ©ï¼** ğŸ“ˆğŸš€
